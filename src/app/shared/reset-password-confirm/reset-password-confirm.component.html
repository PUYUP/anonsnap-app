<ion-content class="ion-padding">
  <h6 class="mt-3 mb-1">Buat Password Baru</h6>
  <p class="small text-secondary mt-0">Setelah itu gunakan password baru untuk login</p>

  <ng-container *ngIf="resetPasswordConfirm$ | async as confirm">
    <form [formGroup]="formGroup" (ngSubmit)="onFormSubmit()">
      <ion-item lines="full" class="mb-3">
        <ion-icon name="key-outline" slot="start"></ion-icon>
        <ion-label position="stacked">Password Baru</ion-label>
        <ion-input type="password" placeholder="Minimal 6 karakter" formControlName="new_password"></ion-input>
      </ion-item>

      <ion-item lines="full" class="mb-3">
        <ion-icon name="key-outline" slot="start"></ion-icon>
        <ion-label position="stacked">Ulangi Password Baru</ion-label>
        <ion-input type="password" placeholder="Ulangi lagi" formControlName="retype_password"></ion-input>
      </ion-item>

      <div class="text-center pt-4" [ngStyle]="{'min-height': '66px'}">
        <div class="row">
          <div class="col-6 text-center">
            <button type="button" class="btn btn-light rounded-pill px-4 py-2 w-75" [disabled]="confirm?.status == 'loading'" (click)="dismiss()">
              <ion-text>Batal</ion-text>
            </button>
          </div>

          <div class="col-6 text-center">
            <button *ngIf="confirm?.status != 'loading'" type="submit" class="btn btn-info rounded-pill px-4 py-2 w-75 text-white" [disabled]="formGroup.invalid || confirm?.status == 'loading'">
              <ion-text>Submit</ion-text>
            </button>
    
            <ion-spinner *ngIf="confirm?.status == 'loading'" name="dots" color="black"></ion-spinner>
          </div>
        </div>
      </div>
    </form>
  </ng-container>
</ion-content>